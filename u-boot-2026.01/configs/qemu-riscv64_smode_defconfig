# 启用 RISC-V 架构支持
CONFIG_RISCV=y

# 设置动态内存分配器的大小为 8MB（0x800000 字节）
# 这决定了 U-Boot 运行时可以动态分配的最大内存量
CONFIG_SYS_MALLOC_LEN=0x800000

# 启用自定义的初始栈指针地址设置
CONFIG_HAS_CUSTOM_SYS_INIT_SP_ADDR=y
# 设置自定义的初始栈指针地址为 0x80200000,系统启动时，栈指针将从这个地址开始向下增长
CONFIG_CUSTOM_SYS_INIT_SP_ADDR=0x80200000

# 设置环境变量存储区大小为 128KB（0x20000 字节）
CONFIG_ENV_SIZE=0x20000

# 设置默认设备树文件名为 "qemu-virt64.dtb"， U-Boot 会尝试加载这个设备树文件来描述硬件
CONFIG_DEFAULT_DEVICE_TREE="qemu-virt64"

# 设置默认的加载地址为 0x80200000; 当加载内核、设备树等文件时，如果没有指定地址，会使用这个地址
CONFIG_SYS_LOAD_ADDR=0x80200000

# 启用 QEMU 虚拟平台的目标板支持
CONFIG_TARGET_QEMU_VIRT=y

# 启用 RISC-V 64 位基础指令集（RV64I）
CONFIG_ARCH_RV64I=y

# 启用 Supervisor 模式（S模式）支持；U-Boot将运行在 RISC-V 的 Smode下
CONFIG_RISCV_SMODE=y

# 启用 FIT（Flattened Image Tree）扁平镜像树 格式支持
# FIT 是一种灵活的镜像格式，可以在一个镜像中包含内核、设备树、ramdisk等多个组件
CONFIG_FIT=y

# 启用发行版默认配置
# 这会启用一些常见的发行版需要的功能，如网络启动、ext4 支持等
CONFIG_DISTRO_DEFAULTS=y

# 启用预启动命令
# 在启动过程中，会在执行 bootcmd 之前执行预定义命令
CONFIG_USE_PREBOOT=y

# 设置预启动命令
# 这里设置环境变量 fdt_addr 并初始化设备树
CONFIG_PREBOOT="setenv fdt_addr ${fdtcontroladdr}; fdt addr ${fdtcontroladdr};"

# 启用显示 CPU 信息
# 启动时会显示 CPU 型号、频率等信息
CONFIG_DISPLAY_CPUINFO=y

# 启用显示板卡信息
# 启动时会显示板卡名称、制造商等信息
CONFIG_DISPLAY_BOARDINFO=y

# 禁用板级初始化（注释掉表示不启用）
# 如果板子需要特殊的初始化代码，可以启用这个选项
# CONFIG_BOARD_INIT is not set

# 启用 EFI 自测命令
# 添加 bootefi selftest 命令，用于测试 EFI 子系统
CONFIG_CMD_BOOTEFI_SELFTEST=y

# 启用 EFI 环境下的 NVM 编辑命令
# 添加 nvedit 命令的 EFI 扩展支持
CONFIG_CMD_NVEDIT_EFI=y

# MII 命令用于管理 MII 兼容的网络 PHY
# CONFIG_CMD_MII is not set

# 启用生成新进程命令
# 添加 spawn 命令，可以加载并执行一个独立的应用程序
CONFIG_CMD_SPAWN=y

# 启用环境变量重定位时的GD结构体支持
# 在重定位时，环境变量的地址会更新到 GD 结构体中
CONFIG_ENV_RELOC_GD_ENV_ADDR=y

# 启用 MTD 设备模型支持
# MTD（Memory Technology Device）是 Flash 设备的通用抽象层
CONFIG_DM_MTD=y

# 设置Flash编程时不显示进度；值为0表示不显示进度，可以加快编程速度
CONFIG_FLASH_SHOW_PROGRESS=0

# 设置系统最大 Flash 存储体数为2；这定义了系统可以有多少个独立的 Flash 芯片/分区
CONFIG_SYS_MAX_FLASH_BANKS=2

# 启用用户态线程支持
# 允许在 U-Boot 中运行简单的多线程应用程序
CONFIG_UTHREAD=y

# 启用单元测试支持
# 这会编译并包含单元测试代码，可以通过命令运行测试
CONFIG_UNIT_TEST=y
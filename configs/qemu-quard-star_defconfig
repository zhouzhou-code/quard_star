# 启用 RISC-V 架构支持
CONFIG_RISCV=y

# 设置动态内存分配器的大小为 8MB（0x800000 字节）
# 这决定了 U-Boot 运行时可以动态分配的最大内存量
CONFIG_SYS_MALLOC_LEN=0x800000

# 早期内存malloc分配器大小为16KB（0x4000 字节）
# 这决定了 U-Boot 早期初始化阶段可以动态分配的最大
CONFIG_SYS_MALLOC_F_LEN=0x4000

# 启用自定义的初始栈指针地址设置(早期临时栈,重定位之前使用)
CONFIG_HAS_CUSTOM_SYS_INIT_SP_ADDR=y
CONFIG_CUSTOM_SYS_INIT_SP_ADDR=0xB1000000
CONFIG_STACK_SIZE_SHIFT=14


# 重定位之后的栈大小设置为1MB
CONFIG_STACK_SIZE=0x100000

# 设置环境变量存储区大小为 128KB（0x20000 字节）
CONFIG_ENV_SIZE=0x20000
 
# 设置默认的加载地址为 0x80200000; 当加载内核、设备树等文件时，如果没有指定地址，会使用这个地址
CONFIG_SYS_LOAD_ADDR=0x80200000

# 启用 QEMU Quard Star 目标支持
CONFIG_TARGET_QEMU_QUARD_STAR=y

# 启用 RISC-V 64 位基础指令集（RV64I）
CONFIG_ARCH_RV64I=y
# 启用 Supervisor 模式（S模式）支持；U-Boot将运行在 RISC-V 的 Smode下
CONFIG_RISCV_SMODE=y
# 启用 FIT（Flattened Image Tree）扁平镜像树 格式支持
# FIT 是一种灵活的镜像格式，可以在一个镜像中包含内核、设备树、ramdisk等多个组件
CONFIG_FIT=y

# DISTRO BOOT支持
CONFIG_DISTRO_DEFAULTS=y

# 启用预启动命令
# 在启动过程中，会在执行 bootcmd 之前执行预定义命令
CONFIG_USE_PREBOOT=y

# 设置预启动命令
# 这里设置环境变量 fdt_addr 并初始化设备树
CONFIG_PREBOOT="setenv fdt_addr ${fdtcontroladdr}; fdt addr ${fdtcontroladdr};"

# 启用显示 CPU 信息
# 启动时会显示 CPU 型号、频率等信息
CONFIG_DISPLAY_CPUINFO=y

# 启用显示板卡信息
# 启动时会显示板卡名称、制造商等信息
CONFIG_DISPLAY_BOARDINFO=y

# 禁用板级初始化（注释掉表示不启用）
# 如果板子需要特殊的初始化代码，可以启用这个选项
# CONFIG_BOARD_INIT is not set

# 启用 EFI 自测命令
# 添加 bootefi selftest 命令，用于测试 EFI 子系统
CONFIG_CMD_BOOTEFI_SELFTEST=y

# 启用 EFI 环境下的 NVM 编辑命令
# 添加 nvedit 命令的 EFI 扩展支持
CONFIG_CMD_NVEDIT_EFI=y

# MII 命令用于管理 MII 兼容的网络 PHY
# CONFIG_CMD_MII is not set

# 启用环境变量重定位时的GD结构体支持
# 在重定位时，环境变量的地址会更新到 GD 结构体中
CONFIG_ENV_RELOC_GD_ENV_ADDR=y

# 启用 MTD 设备模型支持
# MTD（Memory Technology Device）是 Flash 设备的通用抽象层
CONFIG_DM_MTD=y

# 设置Flash编程时不显示进度；值为0表示不显示进度，可以加快编程速度
CONFIG_FLASH_SHOW_PROGRESS=0

# 设置系统最大 Flash 存储体数为1；这定义了系统可以有多少个独立的 Flash 芯片/分区
CONFIG_SYS_MAX_FLASH_BANKS=1

# 启用单元测试支持
# 这会编译并包含单元测试代码，可以通过命令运行测试
CONFIG_UNIT_TEST=y



